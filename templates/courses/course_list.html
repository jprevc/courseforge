{% extends "base.html" %}

{% block title %}Browse courses â€“ CourseForge{% endblock %}

{% block content %}
<h1>Browse courses</h1>
{% if user.is_authenticated %}
<p><a href="{% url 'courses:create' %}" role="button" class="btn-primary cta-top">Create a new course</a></p>
{% endif %}

{% if courses %}
<div class="card-grid">
    {% for course in courses %}
    <a href="{% url 'courses:detail' course.slug %}" class="card card-link card-course">
        <strong class="card-course-title">{{ course.title }}</strong>
        {% if course.overview %}
        <p class="card-course-excerpt">{{ course.overview|truncatewords:12 }}</p>
        {% endif %}
        <div class="card-course-meta">
            {% if course.created_by %}<span><i class="fa-solid fa-user" aria-hidden="true"></i> {{ course.created_by.username }}</span>{% endif %}
            <span><i class="fa-solid fa-dumbbell" aria-hidden="true"></i> {{ course.exercises.count }} exercise{{ course.exercises.count|pluralize }}</span>
        </div>
    </a>
    {% endfor %}
</div>
{% else %}
<div class="card card-muted">
    <div class="empty-state">
        <i class="fa-solid fa-graduation-cap empty-state-icon"></i>
        <p>No courses yet.</p>
        {% if user.is_authenticated %}
        <a href="{% url 'courses:create' %}" class="btn-primary">Create the first course</a>
        {% endif %}
    </div>
</div>
{% endif %}
{% endblock %}
