# CourseForge

A learning platform where users create gamified courses on any topic. Courses are generated by an LLM agent (pydantic-ai) and stored so anyone can take them without re-generating.

## Features

- **User accounts**: Register, log in, dashboard
- **Create course**: Enter a topic; an AI generates an overview, cheatsheet, and 5–8 exercises (multiple choice and matching pairs)
- **Take courses**: Browse courses, start exercises, get feedback, track progress (X/Y completed)
- **Reuse**: Once created, a course can be used by any user

## Setup

1. **Install uv** (if not already installed)

   ```bash
   curl -LsSf https://astral.sh/uv/install.sh | sh
   ```

   Or see [uv installation docs](https://github.com/astral-sh/uv#installation).

2. **Install dependencies**

   ```bash
   uv sync
   ```

   This creates a virtualenv and installs all dependencies from `pyproject.toml`.

3. **Environment**

   Copy `.env.example` to `.env` and set at least:

   - `OPENAI_API_KEY` – required for course generation (e.g. from OpenAI)

   For PostgreSQL (optional), set `PGHOST`, `PGUSER`, `PGPASSWORD`, `PGDATABASE`. If not set, the app uses SQLite.

4. **Database**

   ```bash
   uv run python manage.py migrate
   ```

5. **Run**

   ```bash
   uv run python manage.py runserver
   ```

   Open http://127.0.0.1:8000/

## Creating a course

1. Log in, then go to **Create course**.
2. Enter a topic (e.g. "Python list comprehensions").
3. Wait for the agent to generate the course (may take 10–30 seconds).
4. You are redirected to the course page; you can start exercises or share the link.

## Tech stack

- **Backend**: Django 5.x
- **Database**: SQLite (default) or PostgreSQL
- **LLM agent**: pydantic-ai with structured output (Pydantic models)
- **Frontend**: Django templates, minimal CSS (Water.css)

## Project structure

- `courseforge/` – Django project settings and URLs
- `users/` – Auth (register, login, dashboard)
- `courses/` – Course and Exercise models, create/detail/list/start/exercise views
- `progress/` – UserProgress (per-attempt records)
- `agent/` – pydantic-ai course generator (CourseContent model, agent, `run_course_gen.py`)

## Tests

```bash
uv run python manage.py test agent.tests
```

The agent build test is skipped unless `OPENAI_API_KEY` is set.
